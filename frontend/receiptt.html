<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Receipt | ZimGrow</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
  background:#e9e7ff;
  font-family:Poppins;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}
.card{
  background:#fff;
  padding:40px;
  border-radius:28px;
  width:100%;
  max-width:420px;
  box-shadow:0 40px 80px rgba(0,0,0,.1);
  text-align:center;
  animation:fadeUp .8s;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1}
}

.status{
  font-size:14px;
  margin:10px 0;
}
.status.processing{color:#f59e0b}
.status.approved{color:#16c784}

.row{
  background:#f4f5ff;
  padding:12px;
  border-radius:14px;
  margin-top:10px;
  font-size:13px;
  text-align:left;
}

button{
  margin-top:16px;
  padding:14px;
  width:100%;
  border:none;
  border-radius:30px;
  background:linear-gradient(90deg,#6a5cff,#f25fa6);
  color:#fff;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="card" id="receipt">
  <h2>Withdraw Receipt</h2>
  <div class="status processing" id="status">Processing…</div>

  <div class="row"><strong>Transaction ID:</strong> <span id="tx"></span></div>
  <div class="row"><strong>Method:</strong> <span id="method"></span></div>
  <div class="row"><strong>Amount:</strong> $<span id="amount"></span></div>
  <div class="row"><strong>Date:</strong> <span id="time"></span></div>

  <button onclick="downloadPDF()">Download Receipt</button>
  <button onclick="location.href='dashboard.html'">Back to Dashboard</button>
</div>

<script>
const data = JSON.parse(localStorage.getItem("lastReceipt"));
tx.innerText=data.txId;
method.innerText=data.method;
amount.innerText=data.amount;
time.innerText=data.time;

/* Animate approval */
setTimeout(()=>{
  status.innerText="Approved ✔";
  status.className="status approved";
},5000);

/* PDF Download */
function downloadPDF(){
  const win = window.open("", "_blank");
  win.document.write(`<pre>${document.getElementById("receipt").innerText}</pre>`);
  win.print();
}
</script>

</body>
</html>
